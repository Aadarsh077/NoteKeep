{"ast":null,"code":"import _defineProperty from\"C:/Users/Aadarsh/Desktop/react_projects/noteKeep/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Aadarsh/Desktop/react_projects/noteKeep/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Aadarsh/Desktop/react_projects/noteKeep/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useRef,useState}from\"react\";import noteContext from\"../context/notes/NoteContext\";import Noteitem from'./Noteitem';import{useEffect}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(props){var navigate=useNavigate();var context=useContext(noteContext);var notes=context.notes,getNotes=context.getNotes,editNote=context.editNote;useEffect(function(){if(localStorage.getItem('token')){getNotes();}else{navigate('/login');}// eslint-disable-next-line\n},[]);var ref=useRef(null);var refClose=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),note=_useState2[0],setNote=_useState2[1];var updateNote=function updateNote(currentNote){ref.current.click();setNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});};var handleClick=function handleClick(e){editNote(note.id,note.etitle,note.edescription,note.etag);refClose.current.click();props.showAlert('Updated Successfully','success');};var onChange=function onChange(e){setNote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onChange,type:\"text\",className:\"form-control\",id:\"etitle\",\"aria-describedby\":\"emailHelp\",name:\"etitle\",value:note.etitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onChange,type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:note.edescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{onChange:onChange,type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:note.etag})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:refClose,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:note.etitle.length<3||note.edescription.length<5,type:\"button\",className:\"btn btn-primary\",onClick:handleClick,children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Notes\"}),notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{updateNote:updateNote,note:note,showAlert:props.showAlert},note._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useRef","useState","noteContext","Noteitem","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","navigate","context","notes","getNotes","editNote","localStorage","getItem","ref","refClose","_useState","id","etitle","edescription","etag","_useState2","_slicedToArray","note","setNote","updateNote","currentNote","current","click","_id","title","description","tag","handleClick","e","showAlert","onChange","_objectSpread","_defineProperty","target","name","value","children","type","className","tabIndex","htmlFor","disabled","length","onClick","map"],"sources":["C:/Users/Aadarsh/Desktop/react_projects/noteKeep/frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useRef, useState } from \"react\"\r\nimport noteContext from \"../context/notes/NoteContext\"\r\nimport Noteitem from './Noteitem'\r\nimport { useEffect } from \"react\"\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nconst Notes = (props) => {\r\n    const navigate = useNavigate()\r\n    const context = useContext(noteContext)\r\n    const { notes, getNotes, editNote } = context;\r\n    useEffect(() => {\r\n        if(localStorage.getItem('token')){\r\n            getNotes()\r\n        }\r\n        else{\r\n            navigate('/login')\r\n        }\r\n        \r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    const ref = useRef(null);\r\n    const refClose = useRef(null);\r\n    const [note, setNote] = useState({id:\"\", etitle:\"\", edescription:\"\", etag:\"\"})\r\n\r\n    const updateNote = (currentNote) => {\r\n        ref.current.click();\r\n        setNote({id: currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag: currentNote.tag})\r\n    }\r\n\r\n    const handleClick = (e)=>{\r\n        editNote(note.id, note.etitle, note.edescription, note.etag)\r\n        refClose.current.click();\r\n        props.showAlert('Updated Successfully', 'success')\r\n    }\r\n    const onChange = (e)=>{\r\n        setNote({...note, [e.target.name]: e.target.value})\r\n    }\r\n    return (\r\n        <>\r\n            {/* <!-- Button trigger modal --> */}\r\n            <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch demo modal\r\n            </button>\r\n\r\n            {/* <!-- Modal --> */}\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\">Edit Note</h1>\r\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor=\"Title\" className=\"form-label\">Title</label>\r\n                                <input onChange={onChange} type=\"text\" className=\"form-control\" id=\"etitle\" aria-describedby=\"emailHelp\" name='etitle' value={note.etitle} />\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor=\"description\" className=\"form-label\">Description</label>\r\n                                <input onChange={onChange} type=\"text\" className=\"form-control\" id=\"edescription\" name='edescription' value={note.edescription} />\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\r\n                                <input onChange={onChange} type=\"text\" className=\"form-control\" id=\"etag\" name='etag' value={note.etag} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button ref={refClose} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button disabled={note.etitle.length<3 || note.edescription.length<5} type=\"button\" className=\"btn btn-primary\" onClick={handleClick}>Update Note</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row my-3\">\r\n                <h2>Notes</h2>\r\n                {notes.map((note) => {\r\n                    return <Noteitem key={note._id} updateNote={updateNote} note={note} showAlert={props.showAlert} />\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notes;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}